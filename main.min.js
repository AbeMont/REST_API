function createHtml(data,name){console.log(data);let section=document.createElement("section"),anchor=document.createElement("a"),span=document.createElement("span"),img=document.createElement("img"),h3=document.createElement("h3"),randomId=(9999*Math.random()).toFixed(),currentSection=document.querySelector(".show-info").appendChild(section);currentSection.id=randomId,currentSection.classList.add("data-section"),currentSection.dataset.section=data.name;let sectionAnchor=currentSection.appendChild(anchor);anchor.textContent="X",anchor.href="javascript:void(0)",anchor.classList.add("close"),currentSection.appendChild(h3).textContent=data.name,currentSection.appendChild(img).src=data.profilePic,console.log(currentSection),getSections()}function getSections(){sections=Array.from(document.querySelectorAll("[data-section]")),removeSections(sections)}function removeSections(allSections){allSections.forEach(section=>{section.children[0].addEventListener("click",()=>{section.remove()})})}console.log("Data Restful API"),document.querySelector("#person").addEventListener("click",function(){let name=document.getElementById("name").value.toLowerCase(),sections=void 0;if(console.log(name),""===name)return alert("Please enter a Name."),!1;{let request=new XMLHttpRequest,personFound=!1;request.onreadystatechange=function(){if(200===request.status&&4===request.readyState){var response=JSON.parse(request.responseText);console.log(response),console.log(request),response.forEach(person=>{let firstName;if(firstName="mrs."==person.name.toLowerCase().split(" ")[0]?person.name.toLowerCase().split(" ")[1]:person.name.toLowerCase().split(" ")[0],name===firstName)if(document.querySelector(`[data-section="${person.name}"]`)){if(document.querySelector(`[data-section="${person.name}"]`))return personFound=!0,alert("Person is already Listed"),document.getElementById("name").value="",!1}else createHtml(person,firstName),personFound=!0,document.getElementById("name").value=""}),personFound||(alert(`No such person with the name of ${name} is found on the server`),document.getElementById("name").value="")}},request.open("GET","http://192.168.0.7/users.json",!0),request.send()}});