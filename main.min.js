function createHtml(data,name,value){this.value=value,console.log(data);let section=document.createElement("section"),anchor=document.createElement("a"),anchorInfo=document.createElement("a"),span=document.createElement("span"),img=document.createElement("img"),divName=document.createElement("div"),divInfo=document.createElement("div"),h3=document.createElement("h3"),ul=document.createElement("ul"),randomId=(9999*Math.random()).toFixed(),currentSection=document.querySelector(".show-info-"+this.value).appendChild(section);currentSection.id=randomId,currentSection.classList.add("data-section"),currentSection.dataset.section=`${data.name} ${this.value}`;let nameSection=currentSection.appendChild(divName);nameSection.classList.add("data-section__name");let infoSection=currentSection.appendChild(divInfo);infoSection.classList.add("data-section__info");let sectionAnchor=nameSection.appendChild(anchor);anchor.textContent="X",anchor.href="javascript:void(0)",anchor.classList.add("close"),nameSection.appendChild(h3).textContent=data.name,nameSection.appendChild(img).src=data.profilePic;let infoUl=infoSection.appendChild(ul),companyInfo=[{Username:data.username},{Company:data.company.name},{Occupation:data.company.occupation}];companyInfo.forEach(listItem=>{let li=document.createElement("li"),b=document.createElement("b"),span=document.createElement("span"),generatedLi=infoUl.appendChild(li);for(let prop in listItem){let boldDesc;generatedLi.appendChild(b).textContent=prop+": ";let value=generatedLi.appendChild(span);value.classList.add("light"),value.textContent=listItem[prop]}});let contactAnchor=infoSection.appendChild(anchorInfo);contactAnchor.href="#",contactAnchor.textContent="View Contant Info",console.log(companyInfo),console.log(currentSection),getSections()}function getSections(){sections=Array.from(document.querySelectorAll("[data-section]")),removeSections(sections)}function removeSections(allSections){allSections.forEach(section=>{section.children[0].addEventListener("click",()=>{section.classList.add("remove"),setTimeout(()=>{section.remove()},300)})})}console.log("Data Rest API"),document.querySelector("#firstname").addEventListener("click",function(){let name=document.getElementById("name-person").value.toLowerCase(),sections=void 0;if(console.log(name),""===name)return alert("Please enter a Name."),!1;{let request=new XMLHttpRequest,personFound=!1;request.onreadystatechange=function(){if(200===request.status&&4===request.readyState){var response=JSON.parse(request.responseText);console.log(response),console.log(request),response.forEach(person=>{let firstName;if(firstName="mrs."==person.name.toLowerCase().split(" ")[0]?person.name.toLowerCase().split(" ")[1]:person.name.toLowerCase().split(" ")[0],name===firstName)if(document.querySelector(`[data-section="${person.name} name"]`)){if(document.querySelector(`[data-section="${person.name} name"]`))return personFound=!0,document.getElementById("name-person").value="",!1}else createHtml(person,firstName,"name"),personFound=!0,document.getElementById("name-person").value=""}),personFound||(alert(`No such person with the name of ${name} is found on the server`),document.getElementById("name-person").value="")}},request.open("GET","http://192.168.0.7/users.json",!0),request.send()}}),document.querySelector("#company-btn").addEventListener("click",()=>{let company=document.getElementById("company-person").value.toLowerCase(),companyFound=!1;if(console.log(company),""===company)return alert("Please enter a company name."),!1;{let http=new XMLHttpRequest;http.onreadystatechange=(()=>{if(200===http.status&&4===http.readyState){let data=JSON.parse(http.responseText);console.log(data),data.forEach(person=>{let companyName;if(person.company.name===company){if(console.log(person),document.querySelector(`[data-section="${person.name} company"]`))return document.getElementById("company-person").value="",companyFound=!0,!1;document.querySelector(`[data-section="${person.name} company"]`)||(createHtml(person,person.name,"company"),document.getElementById("company-person").value="",companyFound=!0)}}),companyFound||(alert(`No company with the name of ${company} is found in the server.`),document.getElementById("company-person").value="")}}),http.open("GET","http://192.168.0.7/users.json",!0),http.send()}}),document.getElementById("occupation-btn").addEventListener("click",()=>{let value=document.querySelector("#occupation-person").value,occupationFound=!1;if(console.log(value),""==value)return alert("Please enter an occupation"),!1;{let http=new XMLHttpRequest;http.onreadystatechange=(()=>{if(200===http.status&&4===http.readyState){let data=JSON.parse(http.responseText);console.log(data),data.forEach(person=>{let occupation=person.company.occupation;if(console.log(occupation),occupation!==value)return!1;console.log(person),document.querySelector(` [data-section ="${person.name} occupation"] `)?document.querySelector(` [data-section ="${person.name} occupation"] `)&&(occupationFound=!0,document.querySelector("#occupation-person").value=""):(occupationFound=!0,document.querySelector("#occupation-person").value="",createHtml(person,person.name,"occupation"))}),console.log(occupationFound),occupationFound||(alert("Please enter a valid Occupation."),document.querySelector("#occupation-person").value="")}}),http.open("GET","http://192.168.0.7/users.json",!0),http.send()}});